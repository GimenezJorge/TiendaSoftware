@model IEnumerable<TiendaSoftware1.Models.Producto>

<!DOCTYPE html>
<html>
<head>
    <title>Productos</title>
    <link rel="stylesheet" href="~/css/listaProd.css" />
</head>
<body>


    @if (!Model.Any())
    {
        <p>No hay productos disponibles en esta categoría.</p>
    }
    else
    {
        <ul>
            @foreach (var producto in Model)
            {
                <li class="prod">
                    <h2>@producto.Nombre</h2>
                    <p>@producto.Descripcion</p>
                    <p>Precio: @producto.Precio</p>
                    <p>Stock: @producto.Stock</p>

                    <img src="@Url.Content(producto.ImagenUrl)" alt="@producto.Nombre" />

                    <!-- Botón para agregar al carrito -->
                    <div class="boton_cont_carrito">
                        <button class="btn_agregar_carrito" type="button" onclick="agregarAlCarrito(@producto.Id)">Agregar al Carrito</button>
                        <input type="number" id="cantidad_@producto.Id" value="1" min="1" max="@producto.Stock" style="width: 50px; margin-left: 10px;" />
                    </div>
                </li>
            }
        </ul>
    }

    <script>
        function agregarAlCarrito(productoId) {
            var cantidad = document.getElementById("cantidad_" + productoId).value;
            window.location.href = '@Url.Action("AgregarAlCarrito", "Carrito")' + '?id=' + productoId + '&cantidad=' + cantidad;
        }
    </script>
</body>
</html>
